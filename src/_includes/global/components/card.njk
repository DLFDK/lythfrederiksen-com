{%- from "src/_includes/global/components/navigation.njk" import navigation -%}
{%- from "src/_includes/global/components/hashtag-list.njk" import hashtagList -%}
{%- from "src/_includes/global/components/link-button.njk" import linkButton -%}
{% macro card(params) %}
<article class="card">
    <div class="card__navigation-container">
        <nav class="navigation">
            <ul>
                {% if params.item.data.home === "blog" %}
                <li><a aria-label="See all blog posts in the category {{params.item.data.category}}" href="/{{params.item.data.home}}/{{params.item.data.category | lower}}">{{params.item.data.category}}</a></li>
                {% else %}
                <li><a aria-label="See all projects in the category {{params.item.data.category}}" href="/{{params.item.data.home}}/{{params.item.data.category | lower}}">{{params.item.data.category}}</a></li>
                {% endif %}
            </ul>
        </nav>
    </div>
    <h2 class="card__title"><a href="{{params.item.url}}">{{ params.item.data.title }}</a></h2>
    <p class="card__date">{{ params.item.data.date | postDate }}</p>
    <div class="card__hashtags">
        {{ hashtagList({ hashtags: params.item.data.hashtags}) }}
    </div>
    <p class="card__copy">{{ params.item.data.snippet }}</p>
    <div class="card__cta">{{ linkButton({ text: (params.item.data.cta if params.item.data.cta else "Read post"), href: params.item.url }) }}</div>
    <div class="card__image">
        <img src="" class="lazyfit" data-add-class="lazyfit--show" data-src="{{params.item.data.img}}" alt="" />
    </div>
</article>
{% endmacro %}